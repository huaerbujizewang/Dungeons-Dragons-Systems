<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>D&D ç³»ç»Ÿ - åœ°ç†å¿—</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body { font-family: "PingFang SC", "Microsoft YaHei", sans-serif; background: #fff; padding: 40px; color: #333; margin: 0; }
        .back-nav { margin-bottom: 40px; }
        .back-btn { padding: 8px 16px; border: 1px solid #ddd; background: #f9f9f9; cursor: pointer; text-decoration: none; color: #555; border-radius: 6px; font-size: 0.9em; transition: all 0.2s; }
        .back-btn:hover { background: #eee; color: #000; border-color: #ccc; }
        .content-box { max-width: 1000px; margin: 0 auto; }
        h1 { font-weight: 700; letter-spacing: 1px; margin-bottom: 10px; }
        .subtitle { color: #666; font-size: 0.9em; margin-bottom: 40px; }
        
        .maps-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; }
        .region-card { display: block; text-decoration: none; color: inherit; border: 1px solid #eee; border-radius: 12px; overflow: hidden; transition: all 0.3s ease; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
        .region-card:hover { transform: translateY(-5px); box-shadow: 0 12px 24px rgba(0,0,0,0.12); border-color: #ccc; }
        
        .card-header { height: 160px; display: flex; align-items: center; justify-content: center; color: rgba(255,255,255,0.3); font-size: 4.5em; position: relative; }
        
        /* è¿œä¸œå¡ç‰‡é…è‰² */
        .region-card[data-type="east"] .card-header { background: linear-gradient(135deg, #434343 0%, #000000 100%); }
        /* å‰‘æ¹¾å¡ç‰‡é…è‰² */
        .region-card[data-type="west"] .card-header { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); }

        .card-body { padding: 25px; }
        .card-title { font-size: 1.25em; font-weight: bold; margin-bottom: 10px; color: #111; }
        .card-desc { 
    font-size: 0.9em; 
    color: #666; 
    line-height: 1.6; 
    height: 4.8em; 
    overflow: hidden; 
    display: -webkit-box; 
    -webkit-line-clamp: 3; /* æ—§ç‰ˆæµè§ˆå™¨/ç§»åŠ¨ç«¯æ”¯æŒ */
    line-clamp: 3;         /* æ ‡å‡†å±æ€§æ”¯æŒï¼ˆæ–°å¢è¿™ä¸€è¡Œï¼‰ */
    -webkit-box-orient: vertical; 
}
        .card-meta { margin-top: 20px; padding-top: 15px; border-top: 1px dashed #eee; font-size: 0.8em; color: #999; display: flex; justify-content: space-between; }
    </style>
</head>
<body>

    <div class="content-box">
        <div class="back-nav">
            <a href="index.html" class="back-btn">â¬… è¿”å›ä¸»ç•Œé¢</a>
        </div>

        <div id="page-content" style="display:none;">
            <h1>ğŸ° è´¹ä¼¦åœ°ç†å¿—</h1>
            <p class="subtitle">ç‚¹å‡»ä¸‹æ–¹åŒºåŸŸæ¡£æ¡ˆï¼Œè¿›å…¥äº¤äº’å¼åœ°ç¼˜æ”¿æ²»æƒ…æŠ¥è§†å›¾ã€‚</p>
            <hr style="border:0; border-top:1px solid #eee; margin-bottom:40px;">

            <div class="maps-grid">
                
                <!-- å¡ç‰‡ 1ï¼šå¥¥æ³•å¸å›½ -->
                <a href="maps/far_east.html" class="region-card" data-type="east">
                    <div class="card-header">ğŸŒ‹</div>
                    <div class="card-body">
                        <div class="card-title">å¥¥æ³•å¸å›½</div>
                        <div class="card-desc">
                            å¡å°”å¸å›½åŠå…¶å‘¨è¾¹é‚»å›½ã€‚åœ¨å¤§ç˜Ÿç–«ä¸è´¸æ˜“æˆ˜çš„é˜´å½±ä¸‹ï¼Œå¤è€çš„æ³•å¸ˆæ”¿æƒæ­£åœ¨ç»å†å‰æ‰€æœªæœ‰çš„ä½“åˆ¶æ”¹é©ã€‚
                        </div>
                        <div class="card-meta">
                            <span>FR 1494 DR</span>
                            <span>7 ä¸ªå¯äº’åŠ¨åŒºåŸŸ</span>
                        </div>
                    </div>
                </a>

                <!-- å¡ç‰‡ 2ï¼šå‰‘æ¹¾ -->
                <a href="maps/sword_coast.html" class="region-card" data-type="west">
                    <div class="card-header">ğŸŒŠ</div>
                    <div class="card-body">
                        <div class="card-title">å‰‘æ¹¾</div>
                        <div class="card-desc">
                            ä»åšå¾·ä¹‹é—¨åˆ°ä¹¦å·å ¡å’çƒ›å ¡ã€‚ä½œä¸ºè´¹ä¼¦æœ€ç¹å¿™çš„è´¸æ˜“èµ°å»Šï¼Œè¿™é‡Œæ­£é¢ä¸´ç€ç¥æƒå´›èµ·ã€å†…æ”¿åŠ¨è¡ä¸å¤è€å¨èƒçš„æ˜¾ç°ã€‚
                        </div>
                        <div class="card-meta">
                            <span>FR 1494 DR</span>
                            <span>6 ä¸ªå¯äº’åŠ¨åŒºåŸŸ</span>
                        </div>
                    </div>
                </a>

            </div>
        </div>
    </div>

    <script>
        const SUPABASE_URL = 'https://vbzfpgucpciqgaakqndz.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZiemZwZ3VjcGNpcWdhYWtxbmR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1OTc2MzMsImV4cCI6MjA4MzE3MzYzM30.fBVDirEJ52bvrYJZ5DNv7fVDLNgCwITKwdKqT6YJDYw';
        const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        async function checkAccess() {
            const { data: { user } } = await supabaseClient.auth.getUser();
            if (!user) {
                window.location.href = 'index.html';
            } else {
                document.getElementById('page-content').style.display = 'block';
            }
        }
        checkAccess();
    </script>
</body>
</html>
